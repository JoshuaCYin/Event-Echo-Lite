<!-- This page is simple and an example. Added 10-17-2025, ensure it is updated later. -->

<div>
  <h2>Events</h2>
  <button id="loadEvents">Load Events</button>
  <div id="eventList"></div>

  <h3>Create Event</h3>
  <input id="evTitle" placeholder="Title"><br>
  <input id="evStart" placeholder="Start (YYYY-MM-DD HH:MM:SS)"><br>
  <input id="evEnd" placeholder="End (YYYY-MM-DD HH:MM:SS)"><br>
  <input id="evLocation" placeholder="Location"><br>
  <button id="createBtn">Create</button>
</div>

<script type="module">
import { api } from "../js/api.js";

let token = localStorage.getItem("token");

document.querySelector("#loadEvents").onclick = async () => {
  const res = await api("/events/", "GET");
  const list = document.querySelector("#eventList");
  list.innerHTML = res.map(e => `<p><strong>${e.title}</strong> @ ${e.location}</p>`).join("");
};

document.querySelector("#createBtn").onclick = async () => {
  const title = document.querySelector("#evTitle").value;
  const start = document.querySelector("#evStart").value;
  const end = document.querySelector("#evEnd").value;
  const location = document.querySelector("#evLocation").value;
  const res = await api("/events/", "POST", { title, start_time: start, end_time: end, location }, token);
  alert(JSON.stringify(res, null, 2));
};
</script>
